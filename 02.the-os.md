# The Operating System

## 1. Introduction to Operating System

### 1.1 What is an OS?

- A computer’s operating system is system software that:
  - Manages all hardware resources (CPU, memory, disks, devices).
  - Provides an interface for applications and users.
  - Controls how processes run and interact.
- OS acts as a manager for hardware and software resources.

### 1.2 OS Componenets overview

- The OS is made up of several key layers:

```bash
+--------------------+
| User Applications  | ← e.g., Browser, Text Editor
+--------------------+
| System Libraries   | ← e.g., libc, shared libs
+--------------------+
| System Calls       | ← interface between user and kernel
+--------------------+
| Kernel             | ← Core of the OS
+--------------------+
| Hardware           |
+--------------------+
```

### 1.3 The two worlds of the OS

| Concept | Description | Examples |
| - | - | - |
| **Kernel Space** | Where the core OS code runs — has direct access to hardware. | Device drivers, memory management, scheduling. |
| **User Space** | Where user applications run — limited privileges. | Firefox, Terminal, File Manager. |

### 1.4 Kernel Responsibilities

| Function | Description | Example |
| - | - | - |
| **Process Management** | Controls program execution (starting, scheduling, ending). | `ps`, `top`, `kill` |
| **Memory Management** | Allocates and tracks memory usage. | `free -h`, `vmstat` |
| **Device Management** | Manages drivers for hardware devices. | `lsmod`, `lspci`, `lsusb` |
| **File System Management** | Controls data storage and access. | `ls`, `df -h`, `mount` |
| **System Calls** | Provides safe access from user apps to hardware. | `read()`, `write()`, `open()` |

## 2. The System Calls

### 2.1 What are System Calls?

- A system call (syscall) is a special function.
- It lets user programs request services from the kernel.
- Examples:
  - When user open a file → program calls open().
  - When user print text → program calls write().
  - When user allocate memory → program calls mmap().

## 3. Process Management

### 3.1 What is a Process?

- A process is a running instance of a program.
- Every time a user execute something (like firefox or ls), the OS creates a process to handle it.
- Each process has:
  - A unique ID (PID).
  - A parent process.
  - Its own memory space.
  - Permissions and priority.

### 3.2 What is Process Management?

- Process management is the OS subsystem.
- It creates, schedules, controls, and terminates processes (running program instances) and manages their resources and interactions.
- Process lifecycle / states:
  - New → Ready → Running → Waiting/Blocked → Terminated
  - Transitions caused by scheduling, I/O events, system calls, or signals.

## 4. Memory Management

- The OS handles Virtual Memory, not direct physical memory.

### 4.1 Concept of Memory Management

- Each process gets its own virtual address space.
- The OS maps this virtual space to real RAM or swap.
- This prevents one process from corrupting another process's memory — essential for stability and security.

### 4.2 SWAP Space

- When RAM is full, OS temporarily stores inactive data in swap (on disk).
- Slower than RAM but prevents crashes.
- Shown in `free -h` output.

## 5. File System Management

### 5.1 What is a File System?

- A file system organizes data on storage (SSD/HDD) into files and directories.
- The OS provides a virtual file system layer so programs use a consistent interface regardless of underlying disk type.
- Common Linux file systems: ext4, xfs, btrfs.

### What is File System Management?

- File system management is how the operating system organizes, stores, and controls access to the data on disks so programs and people can find and use files easily.
